(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"013z":function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),r=a("NmYn"),l=a.n(r),i=a("Wbzz"),c=a("Xrax"),s=a("k4MR"),b=a("TSYQ"),u=a.n(b),d=a("QH2O"),p=a.n(d),m=a("qKvR"),h=function(e){var t,a=e.title,n=e.theme,o=e.tabs,r=void 0===o?[]:o;return Object(m.b)("div",{className:u()(p.a.pageHeader,(t={},t[p.a.withTabs]=r.length,t[p.a.darkMode]="dark"===n,t))},Object(m.b)("div",{className:"bx--grid"},Object(m.b)("div",{className:"bx--row"},Object(m.b)("div",{className:"bx--col-lg-12"},Object(m.b)("h1",{id:"page-title",className:p.a.text},a)))))},O=a("BAC9"),j=function(e){var t=e.relativePagePath,a=e.repository,n=Object(i.useStaticQuery)("1364590287").site.siteMetadata.repository,o=a||n,r=o.baseUrl,l=o.subDirectory,c=r+"/edit/"+o.branch+l+"/src/pages"+t;return r?Object(m.b)("div",{className:"bx--row "+O.row},Object(m.b)("div",{className:"bx--col"},Object(m.b)("a",{className:O.link,href:c},"Edit this page on GitHub"))):null},y=a("FCXl"),f=a("dI71"),g=a("I8xM"),x=function(e){function t(){return e.apply(this,arguments)||this}return Object(f.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.tabs,n=e.slug,o=n.split("/").filter(Boolean).slice(-1)[0],r=a.map((function(e){var t,a=l()(e,{lower:!0,strict:!0}),r=a===o,c=new RegExp(o+"/?(#.*)?$"),s=n.replace(c,a);return Object(m.b)("li",{key:e,className:u()((t={},t[g.selectedItem]=r,t),g.listItem)},Object(m.b)(i.Link,{className:g.link,to:""+s},e))}));return Object(m.b)("div",{className:g.tabsContainer},Object(m.b)("div",{className:"bx--grid"},Object(m.b)("div",{className:"bx--row"},Object(m.b)("div",{className:"bx--col-lg-12 bx--col-no-gutter"},Object(m.b)("nav",{"aria-label":t},Object(m.b)("ul",{className:g.list},r))))))},t}(o.a.Component),v=a("MjG9"),N=a("CzIb"),T=a("Asxa"),I=a("OIbQ"),w=a.n(I),C=function(e){var t=e.date,a=new Date(t);return t?Object(m.b)(T.c,{className:w.a.row},Object(m.b)(T.a,null,Object(m.b)("div",{className:w.a.text},"Page last updated: ",a.toLocaleDateString("en-GB",{day:"2-digit",year:"numeric",month:"long"})))):null};t.a=function(e){var t=e.pageContext,a=e.children,n=e.location,o=e.Title,r=t.frontmatter,b=void 0===r?{}:r,u=t.relativePagePath,d=t.titleType,p=b.tabs,O=b.title,f=b.theme,g=b.description,T=b.keywords,I=b.date,w=Object(N.a)().interiorTheme,P=Object(i.useStaticQuery)("2456312558").site.pathPrefix,k=P?n.pathname.replace(P,""):n.pathname,D=p?k.split("/").filter(Boolean).slice(-1)[0]||l()(p[0],{lower:!0}):"",A=f||w;return Object(m.b)(s.a,{tabs:p,homepage:!1,theme:A,pageTitle:O,pageDescription:g,pageKeywords:T,titleType:d},Object(m.b)(h,{title:o?Object(m.b)(o,null):O,label:"label",tabs:p,theme:A}),p&&Object(m.b)(x,{title:O,slug:k,tabs:p,currentTab:D}),Object(m.b)(v.a,{padded:!0},a,Object(m.b)(j,{relativePagePath:u}),Object(m.b)(C,{date:I})),Object(m.b)(y.a,{pageContext:t,location:n,slug:k,tabs:p,currentTab:D}),Object(m.b)(c.a,null))}},BAC9:function(e,t,a){e.exports={bxTextTruncateEnd:"EditLink-module--bx--text-truncate--end--2pqje",bxTextTruncateFront:"EditLink-module--bx--text-truncate--front--3_lIE",link:"EditLink-module--link--1qzW3",row:"EditLink-module--row--1B9Gk"}},I8xM:function(e,t,a){e.exports={bxTextTruncateEnd:"PageTabs-module--bx--text-truncate--end--267NA",bxTextTruncateFront:"PageTabs-module--bx--text-truncate--front--3xEQF",tabsContainer:"PageTabs-module--tabs-container--8N4k0",list:"PageTabs-module--list--3eFQc",listItem:"PageTabs-module--list-item--nUmtD",link:"PageTabs-module--link--1mDJ1",selectedItem:"PageTabs-module--selected-item--YPVr3"}},OIbQ:function(e,t,a){e.exports={bxTextTruncateEnd:"last-modified-date-module--bx--text-truncate--end--123zi",bxTextTruncateFront:"last-modified-date-module--bx--text-truncate--front--3xeKz",text:"last-modified-date-module--text--24m-4",row:"last-modified-date-module--row--2BquN"}},QH2O:function(e,t,a){e.exports={bxTextTruncateEnd:"PageHeader-module--bx--text-truncate--end--mZWeX",bxTextTruncateFront:"PageHeader-module--bx--text-truncate--front--3zvrI",pageHeader:"PageHeader-module--page-header--3hIan",darkMode:"PageHeader-module--dark-mode--hBrwL",withTabs:"PageHeader-module--with-tabs--3nKxA",text:"PageHeader-module--text--o9LFq"}},f238:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return s})),a.d(t,"default",(function(){return p}));var n,o=a("wx14"),r=a("zLVn"),l=(a("q1tI"),a("7ljp")),i=a("013z"),c=(a("qKvR"),["components"]),s={},b=(n="InlineNotification",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),Object(l.b)("div",e)}),u={_frontmatter:s},d=i.a;function p(e){var t=e.components,a=Object(r.a)(e,c);return Object(l.b)(d,Object(o.a)({},u,a,{components:t,mdxType:"MDXLayout"}),Object(l.b)("h1",null,"Destroy the created resources"),Object(l.b)("p",null,"If you have previously used the Cloud Pak Deployer to create assets on IBM Cloud, AWS or Azure, you can destroy the assets with the same command."),Object(l.b)(b,{kind:"info",mdxType:"InlineNotification"},"Currently, destroy is only implemented for IBM Cloud ROKS, AWS ROSA and Azure ARO, not for other cloud platforms."),Object(l.b)("h2",null,"Prepare for destroy"),Object(l.b)("h3",null,"Prepare for destroy on IBM Cloud"),Object(l.b)("h4",null,"Set environment variables for IBM Cloud"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"export IBM_CLOUD_API_KEY=your_api_key\n")),Object(l.b)("p",null,"Optional: set environment variables for deployer config and status directories. If not specified, respectively ",Object(l.b)("inlineCode",{parentName:"p"},"$HOME/cpd-config")," and ",Object(l.b)("inlineCode",{parentName:"p"},"$HOME/cpd-status")," will be used."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"export STATUS_DIR=$HOME/cpd-status\nexport CONFIG_DIR=$HOME/cpd-config\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"IBM_CLOUD_API_KEY"),": This is the API key you generated using your IBM Cloud account, this is a 40+ character string"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"STATUS_DIR"),": The directory where the Cloud Pak Deployer keeps all status information and log files. ",Object(l.b)("strong",{parentName:"li"},"Please note")," that if you have chosen to use a File Vault, the directory specified must be the one you used when you created the environment"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"CONFIG_DIR"),": Directory that holds the configuration. This must be the same directory you used when you created the environment")),Object(l.b)("h3",null,"Prepare for destroy on AWS"),Object(l.b)("h4",null,"Set environment variables for AWS"),Object(l.b)("p",null,"We assume that the vault already holds the mandatory secrets for AWS Access Key, Secret Access Key and ROSA login token."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"export STATUS_DIR=$HOME/cpd-status\nexport CONFIG_DIR=$HOME/cpd-config\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"STATUS_DIR"),": The directory where the Cloud Pak Deployer keeps all status information and log files. ",Object(l.b)("strong",{parentName:"li"},"Please note")," that if you have chosen to use a File Vault, the directory specified must be the one you used when you created the environment"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"CONFIG_DIR"),": Directory that holds the configuration. This must be the same directory you used when you created the environment")),Object(l.b)("h3",null,"Prepare for destroy on Azure"),Object(l.b)("h4",null,"Set environment variables for Azure"),Object(l.b)("p",null,"We assume that the vault already holds the mandatory secrets for Azure - Service principal id and its password, tenant id and ARO login token."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"export STATUS_DIR=$HOME/cpd-status\nexport CONFIG_DIR=$HOME/cpd-config\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"STATUS_DIR"),": The directory where the Cloud Pak Deployer keeps all status information and log files. ",Object(l.b)("strong",{parentName:"li"},"Please note")," that if you have chosen to use a File Vault, the directory specified must be the one you used when you created the environment"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"CONFIG_DIR"),": Directory that holds the configuration. This must be the same directory you used when you created the environment")),Object(l.b)("h2",null,"Run the Cloud Pak Deployer to destroy the assets"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"./cp-deploy.sh env destroy -e env_id=pluto-01 --confirm-destroy\n")),Object(l.b)("p",null,"Please ensure you specify the same extra (dynamic) variables that you used when you ran the ",Object(l.b)("inlineCode",{parentName:"p"},"env apply")," command."),Object(l.b)("p",null,"When running the command, the container will start as a daemon and the command will tail-follow the logs. You can press Ctrl-C at any time to interrupt the logging but the container will continue to run in the background."),Object(l.b)("p",null,"You can return to view the logs as follows:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"./cp-deploy.sh env logs\n")),Object(l.b)("p",null,"If you need to interrupt the process, use CTRL-C to stop the logging output and then use:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"./cp-deploy.sh env kill\n")),Object(l.b)("h2",null,"Finishing up"),Object(l.b)("p",null,"Once the process has finished successfully, you can delete the status directory."))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-cp-deploy-destroy-index-mdx-6c18622ff475afe908aa.js.map