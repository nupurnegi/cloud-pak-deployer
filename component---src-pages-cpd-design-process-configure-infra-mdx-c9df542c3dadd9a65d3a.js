(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{"013z":function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),s=a("NmYn"),i=a.n(s),o=a("Wbzz"),c=a("Xrax"),l=a("k4MR"),b=a("TSYQ"),u=a.n(b),d=a("QH2O"),p=a.n(d),h=a("qKvR"),m=function(e){var t,a=e.title,n=e.theme,r=e.tabs,s=void 0===r?[]:r;return Object(h.b)("div",{className:u()(p.a.pageHeader,(t={},t[p.a.withTabs]=s.length,t[p.a.darkMode]="dark"===n,t))},Object(h.b)("div",{className:"bx--grid"},Object(h.b)("div",{className:"bx--row"},Object(h.b)("div",{className:"bx--col-lg-12"},Object(h.b)("h1",{id:"page-title",className:p.a.text},a)))))},f=a("BAC9"),g=function(e){var t=e.relativePagePath,a=e.repository,n=Object(o.useStaticQuery)("1364590287").site.siteMetadata.repository,r=a||n,s=r.baseUrl,i=r.subDirectory,c=s+"/edit/"+r.branch+i+"/src/pages"+t;return s?Object(h.b)("div",{className:"bx--row "+f.row},Object(h.b)("div",{className:"bx--col"},Object(h.b)("a",{className:f.link,href:c},"Edit this page on GitHub"))):null},O=a("FCXl"),j=a("dI71"),x=a("I8xM"),v=function(e){function t(){return e.apply(this,arguments)||this}return Object(j.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.tabs,n=e.slug,r=n.split("/").filter(Boolean).slice(-1)[0],s=a.map((function(e){var t,a=i()(e,{lower:!0,strict:!0}),s=a===r,c=new RegExp(r+"/?(#.*)?$"),l=n.replace(c,a);return Object(h.b)("li",{key:e,className:u()((t={},t[x.selectedItem]=s,t),x.listItem)},Object(h.b)(o.Link,{className:x.link,to:""+l},e))}));return Object(h.b)("div",{className:x.tabsContainer},Object(h.b)("div",{className:"bx--grid"},Object(h.b)("div",{className:"bx--row"},Object(h.b)("div",{className:"bx--col-lg-12 bx--col-no-gutter"},Object(h.b)("nav",{"aria-label":t},Object(h.b)("ul",{className:x.list},s))))))},t}(r.a.Component),N=a("MjG9"),w=a("CzIb"),T=a("Asxa"),C=a("OIbQ"),y=a.n(C),P=function(e){var t=e.date,a=new Date(t);return t?Object(h.b)(T.c,{className:y.a.row},Object(h.b)(T.a,null,Object(h.b)("div",{className:y.a.text},"Page last updated: ",a.toLocaleDateString("en-GB",{day:"2-digit",year:"numeric",month:"long"})))):null};t.a=function(e){var t=e.pageContext,a=e.children,n=e.location,r=e.Title,s=t.frontmatter,b=void 0===s?{}:s,u=t.relativePagePath,d=t.titleType,p=b.tabs,f=b.title,j=b.theme,x=b.description,T=b.keywords,C=b.date,y=Object(w.a)().interiorTheme,S=Object(o.useStaticQuery)("2456312558").site.pathPrefix,k=S?n.pathname.replace(S,""):n.pathname,I=p?k.split("/").filter(Boolean).slice(-1)[0]||i()(p[0],{lower:!0}):"",F=j||y;return Object(h.b)(l.a,{tabs:p,homepage:!1,theme:F,pageTitle:f,pageDescription:x,pageKeywords:T,titleType:d},Object(h.b)(m,{title:r?Object(h.b)(r,null):f,label:"label",tabs:p,theme:F}),p&&Object(h.b)(v,{title:f,slug:k,tabs:p,currentTab:I}),Object(h.b)(N.a,{padded:!0},a,Object(h.b)(g,{relativePagePath:u}),Object(h.b)(P,{date:C})),Object(h.b)(O.a,{pageContext:t,location:n,slug:k,tabs:p,currentTab:I}),Object(h.b)(c.a,null))}},BAC9:function(e,t,a){e.exports={bxTextTruncateEnd:"EditLink-module--bx--text-truncate--end--2pqje",bxTextTruncateFront:"EditLink-module--bx--text-truncate--front--3_lIE",link:"EditLink-module--link--1qzW3",row:"EditLink-module--row--1B9Gk"}},FTfC:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return l})),a.d(t,"default",(function(){return p}));var n,r=a("wx14"),s=a("zLVn"),i=(a("q1tI"),a("7ljp")),o=a("013z"),c=(a("qKvR"),["components"]),l={},b=(n="InlineNotification",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),Object(i.b)("div",e)}),u={_frontmatter:l},d=o.a;function p(e){var t=e.components,a=Object(s.a)(e,c);return Object(i.b)(d,Object(r.a)({},u,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h1",null,"Configure infrastructure"),Object(i.b)("p",null,"This stage focuses on the configuration of the provisioned infrastructure."),Object(i.b)("h2",null,"Configure infrastructure for IBM Cloud"),Object(i.b)("h3",null,"Configure the VPC bastion server(s)"),Object(i.b)("p",null,"In a configuration scenario where NFS is used for OpenShift storage, the NFS server must be provisioned as a VSI within the VPC that contains the OpenShift cluster. It is best practice to shield off the NFS server from the outside world by using a jump host (bastion) to access it."),Object(i.b)("p",null,"This steps configures the bastion host which has a public IP address to serve as a jump host to access other servers and services within the VPC."),Object(i.b)("h3",null,"Configure the VPC NFS server(s)"),Object(i.b)("p",null,"Configures the NFS server using the specs in the ",Object(i.b)("inlineCode",{parentName:"p"},"nfs_server")," configuration object(s). It installs the required packages and sets up the NFSv4 service. Additionally, it will format the empty volume as ",Object(i.b)("inlineCode",{parentName:"p"},"xfs")," and export it so it can be used by the ",Object(i.b)("inlineCode",{parentName:"p"},"managed-nfs-storage")," storage class in the OpenShift cluster."),Object(i.b)("h3",null,"Configure the OpenShift storage classes"),Object(i.b)("p",null,"This steps takes care of configuring the storage classes in the OpenShift cluster. Storage classes are an abstraction of the underlying physical and virtual storage. When run, it processes the ",Object(i.b)("inlineCode",{parentName:"p"},"openshift_storage")," elements within the current ",Object(i.b)("inlineCode",{parentName:"p"},"openshift")," configuration object."),Object(i.b)("p",null,"Two types of storage classes can be automatically created and configured:"),Object(i.b)("h4",null,"NFS Storage"),Object(i.b)("p",null,"Creates the ",Object(i.b)("inlineCode",{parentName:"p"},"managed-nfs-storage")," OpenShift storage class using the specified ",Object(i.b)("inlineCode",{parentName:"p"},"nfs_server_name")," which references an ",Object(i.b)("inlineCode",{parentName:"p"},"nfs_server")," configuration object."),Object(i.b)("h4",null,"OCS Storage"),Object(i.b)("p",null,"Activates the ROKS clusterâ€™s OpenShift Container Storage add-on to install the operator into the cluster. Once finished with the preparation, the ",Object(i.b)("inlineCode",{parentName:"p"},"OcsCluster")," OpenShift object is created to provision the storage cluster. As the backing storage the ",Object(i.b)("inlineCode",{parentName:"p"},"ibmc-vpc-block-metro-10iops-tier")," storage class is used, which has the appropriate IO characteristics for the Cloud Paks."),Object(i.b)(b,{mdxType:"InlineNotification"},"Both NFS and OCS storage classes can be created but only 1 storage class of each type can exist in the cluster at the moment. If more than one storage class of the same type is specified, the configuration will fail."))}p.isMDXComponent=!0},I8xM:function(e,t,a){e.exports={bxTextTruncateEnd:"PageTabs-module--bx--text-truncate--end--267NA",bxTextTruncateFront:"PageTabs-module--bx--text-truncate--front--3xEQF",tabsContainer:"PageTabs-module--tabs-container--8N4k0",list:"PageTabs-module--list--3eFQc",listItem:"PageTabs-module--list-item--nUmtD",link:"PageTabs-module--link--1mDJ1",selectedItem:"PageTabs-module--selected-item--YPVr3"}},OIbQ:function(e,t,a){e.exports={bxTextTruncateEnd:"last-modified-date-module--bx--text-truncate--end--123zi",bxTextTruncateFront:"last-modified-date-module--bx--text-truncate--front--3xeKz",text:"last-modified-date-module--text--24m-4",row:"last-modified-date-module--row--2BquN"}},QH2O:function(e,t,a){e.exports={bxTextTruncateEnd:"PageHeader-module--bx--text-truncate--end--mZWeX",bxTextTruncateFront:"PageHeader-module--bx--text-truncate--front--3zvrI",pageHeader:"PageHeader-module--page-header--3hIan",darkMode:"PageHeader-module--dark-mode--hBrwL",withTabs:"PageHeader-module--with-tabs--3nKxA",text:"PageHeader-module--text--o9LFq"}}}]);
//# sourceMappingURL=component---src-pages-cpd-design-process-configure-infra-mdx-c9df542c3dadd9a65d3a.js.map