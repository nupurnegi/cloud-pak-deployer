{"version":3,"sources":["webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/LastModifiedDate.js","webpack:///./node_modules/gatsby-theme-carbon/src/templates/Default.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/last-modified-date.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.module.scss","webpack:///./src/pages/development/deployer-development-setup/index.mdx"],"names":["PageHeader","title","theme","tabs","className","cx","styles","pageHeader","withTabs","length","darkMode","id","text","EditLink","relativePagePath","repositoryProp","repository","useStaticQuery","site","siteMetadata","baseUrl","subDirectory","href","branch","row","link","PageTabs","render","this","props","slug","currentTab","split","filter","Boolean","slice","pageTabs","map","tab","slugifiedTab","slugify","lower","strict","selected","currentTabRegex","RegExp","replace","key","selectedItem","listItem","to","tabsContainer","aria-label","list","React","Component","LastModifiedDate","date","lastModified","Date","toLocaleDateString","day","year","month","Default","pageContext","children","location","Title","frontmatter","titleType","frontmatterTheme","description","keywords","interiorTheme","useMetadata","pathPrefix","pathname","Layout","homepage","pageTitle","pageDescription","pageKeywords","label","Main","padded","NextPrevious","Utils","module","exports","name","_frontmatter","InlineNotification","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","kind","isMDXComponent"],"mappings":"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","file":"component---src-pages-development-deployer-development-setup-index-mdx-2e068152abfa703888bb.js","sourcesContent":["import PageHeader from './PageHeader';\n\nexport default PageHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport styles from './PageHeader.module.scss';\n\nconst PageHeader = ({ title, theme, tabs = [] }) => (\n  <div\n    className={cx(styles.pageHeader, {\n      [styles.withTabs]: tabs.length,\n      [styles.darkMode]: theme === 'dark',\n    })}>\n    <div className=\"bx--grid\">\n      <div className=\"bx--row\">\n        <div className=\"bx--col-lg-12\">\n          <h1 id=\"page-title\" className={styles.text}>\n            {title}\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nPageHeader.propTypes = {\n  /**\n   * Specify the title for the page\n   */\n  title: PropTypes.node,\n};\n\nexport default PageHeader;\n","import EditLink from './EditLink';\n\nexport default EditLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport { link, row } from './EditLink.module.scss';\n\nconst EditLink = ({ relativePagePath, repository: repositoryProp }) => {\n  const {\n    site: {\n      siteMetadata: { repository },\n    },\n  } = useStaticQuery(graphql`\n    query REPOSITORY_QUERY {\n      site {\n        siteMetadata {\n          repository {\n            baseUrl\n            subDirectory\n            branch\n          }\n        }\n      }\n    }\n  `);\n\n  const { baseUrl, subDirectory, branch } = repositoryProp || repository;\n\n  const href = `${baseUrl}/edit/${branch}${subDirectory}/src/pages${relativePagePath}`;\n\n  return baseUrl ? (\n    <div className={`bx--row ${row}`}>\n      <div className=\"bx--col\">\n        <a className={link} href={href}>\n          Edit this page on GitHub\n        </a>\n      </div>\n    </div>\n  ) : null;\n};\n\nEditLink.propTypes = {\n  repository: PropTypes.shape({\n    baseUrl: PropTypes.string,\n    subDirectory: PropTypes.string,\n    branch: PropTypes.string,\n  }),\n  relativePagePath: PropTypes.string,\n};\n\nexport default EditLink;\n","import PageTabs from './PageTabs';\n\nexport default PageTabs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'gatsby';\nimport slugify from 'slugify';\nimport cx from 'classnames';\n\nimport {\n  tabsContainer,\n  list,\n  selectedItem,\n  listItem,\n  link,\n} from './PageTabs.module.scss';\n\nexport default class PageTabs extends React.Component {\n  render() {\n    const { title, tabs, slug } = this.props;\n    const currentTab = slug.split('/').filter(Boolean).slice(-1)[0];\n\n    const pageTabs = tabs.map((tab) => {\n      const slugifiedTab = slugify(tab, { lower: true, strict: true });\n      const selected = slugifiedTab === currentTab;\n      // matches with or without trailing slash: /?\n      // matches with or without hash link: (#.*)?\n      const currentTabRegex = new RegExp(`${currentTab}/?(#.*)?$`);\n      const href = slug.replace(currentTabRegex, slugifiedTab);\n      return (\n        <li key={tab} className={cx({ [selectedItem]: selected }, listItem)}>\n          <Link className={link} to={`${href}`}>\n            {tab}\n          </Link>\n        </li>\n      );\n    });\n\n    return (\n      <div className={tabsContainer}>\n        <div className=\"bx--grid\">\n          <div className=\"bx--row\">\n            <div className=\"bx--col-lg-12 bx--col-no-gutter\">\n              <nav aria-label={title}>\n                <ul className={list}>{pageTabs}</ul>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPageTabs.propTypes = {\n  tabs: PropTypes.array,\n  slug: PropTypes.string,\n};\n","import LastModifiedDate from './LastModifiedDate';\n\nexport default LastModifiedDate;\n","import React from 'react';\nimport { Row, Column } from '../Grid';\nimport styles from './last-modified-date.module.scss';\n\nconst LastModifiedDate = ({ date }) => {\n  const options = {\n    day: '2-digit',\n    year: 'numeric',\n    month: 'long',\n  };\n\n  const lastModified = new Date(date);\n\n  return date ? (\n    <Row className={styles.row}>\n      <Column>\n        <div className={styles.text}>\n          Page last updated: {lastModified.toLocaleDateString('en-GB', options)}\n          {/* // https://www-03preprod.ibm.com/support/knowledgecenter/ibm_style/dates-and-times.html */}\n        </div>\n      </Column>\n    </Row>\n  ) : null;\n};\nexport default LastModifiedDate;\n","import React from 'react';\nimport slugify from 'slugify';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport Utils from '../components/Utils';\nimport Layout from '../components/Layout';\nimport PageHeader from '../components/PageHeader';\nimport EditLink from '../components/EditLink';\nimport NextPrevious from '../components/NextPrevious';\nimport PageTabs from '../components/PageTabs';\nimport Main from '../components/Main';\nimport useMetadata from '../util/hooks/useMetadata';\nimport LastModifiedDate from '../components/LastModifiedDate';\n\nconst Default = ({ pageContext, children, location, Title }) => {\n  const { frontmatter = {}, relativePagePath, titleType } = pageContext;\n  const {\n    tabs,\n    title,\n    theme: frontmatterTheme,\n    description,\n    keywords,\n    date,\n  } = frontmatter;\n\n  const { interiorTheme } = useMetadata();\n\n  // get the path prefix if it exists\n  const {\n    site: { pathPrefix },\n  } = useStaticQuery(graphql`\n    query PATH_PREFIX_QUERY {\n      site {\n        pathPrefix\n      }\n    }\n  `);\n\n  // let gatsby handle prefixing\n  const slug = pathPrefix\n    ? location.pathname.replace(pathPrefix, '')\n    : location.pathname;\n\n  const getCurrentTab = () => {\n    if (!tabs) return '';\n    return (\n      slug.split('/').filter(Boolean).slice(-1)[0] ||\n      slugify(tabs[0], { lower: true })\n    );\n  };\n\n  const currentTab = getCurrentTab();\n\n  const theme = frontmatterTheme || interiorTheme;\n\n  return (\n    <Layout\n      tabs={tabs}\n      homepage={false}\n      theme={theme}\n      pageTitle={title}\n      pageDescription={description}\n      pageKeywords={keywords}\n      titleType={titleType}>\n      <PageHeader\n        title={Title ? <Title /> : title}\n        label=\"label\"\n        tabs={tabs}\n        theme={theme}\n      />\n      {tabs && (\n        <PageTabs\n          title={title}\n          slug={slug}\n          tabs={tabs}\n          currentTab={currentTab}\n        />\n      )}\n      <Main padded>\n        {children}\n        <EditLink relativePagePath={relativePagePath} />\n        <LastModifiedDate date={date} />\n      </Main>\n      <NextPrevious\n        pageContext={pageContext}\n        location={location}\n        slug={slug}\n        tabs={tabs}\n        currentTab={currentTab}\n      />\n      <Utils />\n    </Layout>\n  );\n};\n\nexport default Default;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"EditLink-module--bx--text-truncate--end--2pqje\",\"bxTextTruncateFront\":\"EditLink-module--bx--text-truncate--front--3_lIE\",\"link\":\"EditLink-module--link--1qzW3\",\"row\":\"EditLink-module--row--1B9Gk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageTabs-module--bx--text-truncate--end--267NA\",\"bxTextTruncateFront\":\"PageTabs-module--bx--text-truncate--front--3xEQF\",\"tabsContainer\":\"PageTabs-module--tabs-container--8N4k0\",\"list\":\"PageTabs-module--list--3eFQc\",\"listItem\":\"PageTabs-module--list-item--nUmtD\",\"link\":\"PageTabs-module--link--1mDJ1\",\"selectedItem\":\"PageTabs-module--selected-item--YPVr3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"last-modified-date-module--bx--text-truncate--end--123zi\",\"bxTextTruncateFront\":\"last-modified-date-module--bx--text-truncate--front--3xeKz\",\"text\":\"last-modified-date-module--text--24m-4\",\"row\":\"last-modified-date-module--row--2BquN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageHeader-module--bx--text-truncate--end--mZWeX\",\"bxTextTruncateFront\":\"PageHeader-module--bx--text-truncate--front--3zvrI\",\"pageHeader\":\"PageHeader-module--page-header--3hIan\",\"darkMode\":\"PageHeader-module--dark-mode--hBrwL\",\"withTabs\":\"PageHeader-module--with-tabs--3nKxA\",\"text\":\"PageHeader-module--text--o9LFq\"};","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/cloud-pak-deployer/cloud-pak-deployer/doc/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\nconst InlineNotification = makeShortcode(\"InlineNotification\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1>{`Deployer Development Setup`}</h1>\n    <p>{`Setting up a virtual machine or server to develop the Cloud Pak Deployer code. Focuses on initial setup of a server to run the deployer container, setting up Visual Studio Code, issuing GPG keys and running the deployer in development mode.`}</p>\n    <h2>{`Set up a server for development`}</h2>\n    <p>{`We recommend to use a Red Hat Linux server for development of the Cloud Pak Deployer, either using a virtual server in the cloud or a virtual machine on your workstation. Ideally you run Visual Studio Code on your workstation and connect it to the remote Red Hat Linux server, updating the code and running it immediately from that server.`}</p>\n    <h3>{`Install required packages`}</h3>\n    <p>{`To allow for remote development, a number of packages need to be installed on the Linux server. Not having these will cause VSCode not to work and the error messages are difficult to debug. To install these packages, run the following as the `}<inlineCode parentName=\"p\">{`root`}</inlineCode>{` user:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`yum install -y git podman wget unzip tar gpg pinentry\n`}</code></pre>\n    <p>{`Additionally, you can also install EPEL and `}<inlineCode parentName=\"p\">{`screen`}</inlineCode>{` to make it easier to keep your session if it gets disconnected.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`yum install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm\nyum install -y screen\n`}</code></pre>\n    <h3>{`Set up development user`}</h3>\n    <p>{`It is recommended to use a special development user (your user name) on the Linux server, rather than using `}<inlineCode parentName=\"p\">{`root`}</inlineCode>{`. Not only will this be more secure; it also prevent destructive mistakes. In the below steps, we create a user `}<inlineCode parentName=\"p\">{`fk-dev`}</inlineCode>{` and give it `}<inlineCode parentName=\"p\">{`sudo`}</inlineCode>{` permissions.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`useradd -G wheel fk-dev\n`}</code></pre>\n    <p>{`To give the `}<inlineCode parentName=\"p\">{`fk-dev`}</inlineCode>{` permissions to run commands as `}<inlineCode parentName=\"p\">{`root`}</inlineCode>{`, change the `}<inlineCode parentName=\"p\">{`sudo`}</inlineCode>{` settings.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`visudo\n`}</code></pre>\n    <p>{`Scroll down until you see the following line:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`# %wheel        ALL=(ALL)       NOPASSWD: ALL\n`}</code></pre>\n    <p>{`Change the line to look like this:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`%wheel        ALL=(ALL)       NOPASSWD: ALL\n`}</code></pre>\n    <p>{`Now, save the file by pressing Esc, followed by `}<inlineCode parentName=\"p\">{`:`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`x`}</inlineCode>{`.`}</p>\n    <h3>{`Configure password-less SSH for development user`}</h3>\n    <p>{`Especially when running the virtual server in the cloud, users would logon using their SSH key. This requires the public key of the workstation to be added to the development user’s SSH configuration.`}</p>\n    <p>{`Make sure you run the following commands as the development user (fk-dev):`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`mkdir -p ~/.ssh\nchmod 700 ~/.ssh\ntouch ~/.ssh/authorized_keys\nchmod 600 ~/.ssh/authorized_keys\n`}</code></pre>\n    <p>{`Then, add the public key of your workstation to the `}<inlineCode parentName=\"p\">{`authorized_keys`}</inlineCode>{` file.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`vi ~/.ssh/authorized_keys\n`}</code></pre>\n    <p>{`Press the `}<inlineCode parentName=\"p\">{`i`}</inlineCode>{` to enter insert mode for `}<inlineCode parentName=\"p\">{`vi`}</inlineCode>{`. Then paste the public SSH key, for example:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`ssh-rsa AAAAB3NzaC1yc2EAAAADAXABAAABAQEGUeXJr0ZHy1SPGOntmr/7ixmK3KV8N3q/+0eSfKVTyGbhUO9lC1+oYcDvwMrizAXBJYWkIIwx4WgC77a78....fP3S5WYgqL fk-dev\n`}</code></pre>\n    <p>{`Finally save the file by pressing Esc, followed by `}<inlineCode parentName=\"p\">{`:`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`x`}</inlineCode>{`.`}</p>\n    <h3>{`Configure Git for the development user`}</h3>\n    <p>{`Run the following commands as the development user (fk-dev):`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`git config --global user.name \"Your full name\"\ngit config --global user.email \"your_email_address\"\ngit config --global credential.helper \"cache --timeout=86400\"\n`}</code></pre>\n    <h3>{`Set up GPG for the development user`}</h3>\n    <p>{`We also want to ensure that commits are verified (trusted) by signing them with a GPG key. This requires set up on the development server and also on your Git account.`}</p>\n    <p>{`First, set up a new GPG key:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`gpg --default-new-key-algo rsa4096 --gen-key\n`}</code></pre>\n    <p>{`You will be prompted to specify your user information:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Real name: Enter your full name`}</li>\n      <li parentName=\"ul\">{`Email address: Your e-mail address that will be used to sign the commits`}</li>\n    </ul>\n    <p>{`Press `}<inlineCode parentName=\"p\">{`o`}</inlineCode>{` at the following prompt:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`Change (N)ame, (E)mail, or (O)kay/(Q)uit?\n`}</code></pre>\n    <p>{`Then, you will be prompted for a passphrase. You cannot use a passphrase for your GPG key if you want to use it for automatic signing of commits. Just press Enter multiple times until the GPG key has been generated.`}</p>\n    <p>{`List the signatures of the known keys. You will use the signature to sign the commits and to retrieve the public key.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`gpg --list-signatures\n`}</code></pre>\n    <p>{`Output will look something like this:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-output\"\n      }}>{`/home/fk-dev/.gnupg/pubring.kbx\n-----------------------------------\npub   rsa4096 2022-10-30 [SC] [expires: 2024-10-29]\n      BC83E8A97538EDD4E01DC05EA83C67A6D7F71756\nuid           [ultimate] FK Developer <fk-dev@ibm.com>\nsig 3        A83C67A6D7F71756 2022-10-30  FK Developer <fk-dev@ibm.com>\n`}</code></pre>\n    <p>{`You will use the signature to retrieve the public key:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`gpg --armor --export A83C67A6D7F71756\n`}</code></pre>\n    <p>{`The public key will look something like below:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-output\"\n      }}>{`-----BEGIN PGP PUBLIC KEY BLOCK-----\n\nmQINBGNeGNQBEAC/y2tovX5s0Z+onUpisnMMleG94nqOtajXG1N0UbHAUQyKfirt\nO8t91ek+e5PEsVkR/RLIM1M1YkiSV4irxW/uFPucXHZDVH8azfnJjf6j6cXWt/ra\n1I2vGV3dIIQ6aJIBEEXC+u+N6rWpCOF5ERVrumGFlDhL/PY8Y9NM0cNQCbOcciTV\n5a5DrqyHC3RD5Bcn5EA0/5ISTCGQyEbJe45G8L+a5yRchn4ACVEztR2B/O5iOZbM\n.\n.\n.\n4ojOJPu0n5QLA5cI3RyZFw==\n=sx91\n-----END PGP PUBLIC KEY BLOCK-----\n`}</code></pre>\n    <p>{`Now that you have the signature, you can configure Git to sign commits:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`git config --global user.signingkey A83C67A6D7F71756\n`}</code></pre>\n    <p>{`Next, add your GPG key to your Git user.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Go to `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/IBM/cloud-pak-deployer.git\"\n        }}>{`https://github.com/IBM/cloud-pak-deployer.git`}</a></li>\n      <li parentName=\"ul\">{`Log in using your public GitHub user`}</li>\n      <li parentName=\"ul\">{`Click on your user at the top right of the pages`}</li>\n      <li parentName=\"ul\">{`Click `}<strong parentName=\"li\">{`select`}</strong></li>\n      <li parentName=\"ul\">{`In the left menu, select `}<strong parentName=\"li\">{`SSH and GPG keys`}</strong></li>\n      <li parentName=\"ul\">{`Click `}<strong parentName=\"li\">{`New GPG key`}</strong></li>\n      <li parentName=\"ul\">{`Enter a meaningful title for your GPG key, for example: `}<strong parentName=\"li\">{`FK Development Server`}</strong></li>\n      <li parentName=\"ul\">{`Paste the public GPG key`}</li>\n      <li parentName=\"ul\">{`Confirm by pushing the `}<strong parentName=\"li\">{`Add GPG key`}</strong>{` button`}</li>\n    </ul>\n    <p>{`Commits done on your development server will now be signed with your user name and e-mail address and will show as `}<strong parentName=\"p\">{`Verified`}</strong>{` when listing the commits.`}</p>\n    <h3>{`Clone the repository`}</h3>\n    <p>{`Clone the repository using a `}<inlineCode parentName=\"p\">{`git`}</inlineCode>{` command. The command below is the clone of the main Cloud Pak Deployer repository. If you have forked the repository to develop features, you will have to use the URL of your own fork.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`git clone https://github.com/IBM/cloud-pak-deployer.git\n`}</code></pre>\n    <h3>{`Connect VSCode to the development server`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Install the `}<strong parentName=\"li\">{`Remote - SSH`}</strong>{` extension in VSCode`}</li>\n      <li parentName=\"ul\">{`Click on the green icon in the lower left of VSCode`}</li>\n      <li parentName=\"ul\">{`Open SSH Config file, choose the one in your home directory`}</li>\n      <li parentName=\"ul\">{`Add the following lines:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`Host nickname_of_your_server\n   HostName ip_address_of_your_server\n   User fk-dev\n`}</code></pre>\n    <p>{`Once you have set up this server in the SSH config file, you can connect to it and start remote development. `}</p>\n    <ul>\n      <li parentName=\"ul\">{`Open`}</li>\n      <li parentName=\"ul\">{`Select the `}<inlineCode parentName=\"li\">{`cloud-pak-deployer`}</inlineCode>{` directory (this is the cloned repository)`}</li>\n      <li parentName=\"ul\">{`As the directory is a cloned Git repo, VSCode will automatically open the default branch`}</li>\n    </ul>\n    <p>{`From that point forward you can use VSCode as if you were working on your laptop, make changes and use a separate terminal to test your changes.`}</p>\n    <h2>{`Cloud Pak Deployer developer command line option`}</h2>\n    <p>{`The Cloud Pak Deployer runs as a container on the server. When you’re in the process of developing new features, having to always rebuild the image is a bit of a pain, hence we’ve introduced a special command line parameter.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`./cp-deploy.sh env apply .... --cpd-develop [--accept-all-liceneses]\n`}</code></pre>\n    <p>{`When adding the `}<inlineCode parentName=\"p\">{`--cpd-develop`}</inlineCode>{` parameter to the command line, the current directory is mapped as a volume to the `}<inlineCode parentName=\"p\">{`/cloud-pak-deployer`}</inlineCode>{` directory within the container. This means that any latest changes you’ve done to the Ansible playbooks or other commands will take effect immediately.`}</p>\n    <InlineNotification kind=\"warning\" mdxType=\"InlineNotification\">\nEven though it is possible to run the deployer multiple times in parallel, for different environments, please be aware that is NOT possible when you use the `--cpd-develop` parameter. If you run two deploy processes with this parameters, you will see errors with permissions.\n    </InlineNotification>\n    <h2>{`Cloud Pak Deployer developer container image tag`}</h2>\n    <p>{`When working on multiple changes concurrently, you may have to switch between branches or tags. By default, the Cloud Pak Deployer image is built with image `}<inlineCode parentName=\"p\">{`latest`}</inlineCode>{`, but you can override this by setting the `}<inlineCode parentName=\"p\">{`CPD_IMAGE_TAG`}</inlineCode>{` environment variable in your session.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`export CPD_IMAGE_TAG=cp4d-460\n./cp-deploy.sh build\n`}</code></pre>\n    <p>{`When building the deployer, the image is now tagged:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`podman image ls\n`}</code></pre>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-output\"\n      }}>{`REPOSITORY                           TAG         IMAGE ID      CREATED        SIZE\nlocalhost/cloud-pak-deployer         cp4d-460    8b08cb2f9a2e  8 minutes ago  1.92 GB\n`}</code></pre>\n    <p>{`When running the deployer with the same environment variable set, you will see an additional message in the output.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`./cp-deploy.sh env apply\n`}</code></pre>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-output\"\n      }}>{`Cloud Pak Deployer image tag cp4d-460 will be used.\n...\n`}</code></pre>\n    <h2>{`Cloud Pak Deployer podman or docker command`}</h2>\n    <p>{`By default, the `}<inlineCode parentName=\"p\">{`cp-deploy.sh`}</inlineCode>{` command detects if `}<inlineCode parentName=\"p\">{`podman`}</inlineCode>{` (preferred) or `}<inlineCode parentName=\"p\">{`docker`}</inlineCode>{` is found on the system. In case both are present, `}<inlineCode parentName=\"p\">{`podman`}</inlineCode>{` is used. You can override this behaviour by setting the `}<inlineCode parentName=\"p\">{`CPD_CONTAINER_ENGINE`}</inlineCode>{` environment variable.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`export CPD_CONTAINER_ENGINE=docker\n./cp-deploy.sh build\n`}</code></pre>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-output\"\n      }}>{`Container engine docker will be used.\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}