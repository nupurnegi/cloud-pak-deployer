(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{"013z":function(e,t,a){"use strict";var o=a("q1tI"),n=a.n(o),r=a("NmYn"),l=a.n(r),i=a("Wbzz"),c=a("Xrax"),s=a("k4MR"),b=a("TSYQ"),d=a.n(b),u=a("QH2O"),p=a.n(u),m=a("qKvR"),h=function(e){var t,a=e.title,o=e.theme,n=e.tabs,r=void 0===n?[]:n;return Object(m.b)("div",{className:d()(p.a.pageHeader,(t={},t[p.a.withTabs]=r.length,t[p.a.darkMode]="dark"===o,t))},Object(m.b)("div",{className:"bx--grid"},Object(m.b)("div",{className:"bx--row"},Object(m.b)("div",{className:"bx--col-lg-12"},Object(m.b)("h1",{id:"page-title",className:p.a.text},a)))))},O=a("BAC9"),j=function(e){var t=e.relativePagePath,a=e.repository,o=Object(i.useStaticQuery)("1364590287").site.siteMetadata.repository,n=a||o,r=n.baseUrl,l=n.subDirectory,c=r+"/edit/"+n.branch+l+"/src/pages"+t;return r?Object(m.b)("div",{className:"bx--row "+O.row},Object(m.b)("div",{className:"bx--col"},Object(m.b)("a",{className:O.link,href:c},"Edit this page on GitHub"))):null},g=a("FCXl"),f=a("dI71"),y=a("I8xM"),v=function(e){function t(){return e.apply(this,arguments)||this}return Object(f.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.tabs,o=e.slug,n=o.split("/").filter(Boolean).slice(-1)[0],r=a.map((function(e){var t,a=l()(e,{lower:!0,strict:!0}),r=a===n,c=new RegExp(n+"/?(#.*)?$"),s=o.replace(c,a);return Object(m.b)("li",{key:e,className:d()((t={},t[y.selectedItem]=r,t),y.listItem)},Object(m.b)(i.Link,{className:y.link,to:""+s},e))}));return Object(m.b)("div",{className:y.tabsContainer},Object(m.b)("div",{className:"bx--grid"},Object(m.b)("div",{className:"bx--row"},Object(m.b)("div",{className:"bx--col-lg-12 bx--col-no-gutter"},Object(m.b)("nav",{"aria-label":t},Object(m.b)("ul",{className:y.list},r))))))},t}(n.a.Component),x=a("MjG9"),w=a("CzIb"),N=a("Asxa"),k=a("OIbQ"),T=a.n(k),C=function(e){var t=e.date,a=new Date(t);return t?Object(m.b)(N.c,{className:T.a.row},Object(m.b)(N.a,null,Object(m.b)("div",{className:T.a.text},"Page last updated: ",a.toLocaleDateString("en-GB",{day:"2-digit",year:"numeric",month:"long"})))):null};t.a=function(e){var t=e.pageContext,a=e.children,o=e.location,n=e.Title,r=t.frontmatter,b=void 0===r?{}:r,d=t.relativePagePath,u=t.titleType,p=b.tabs,O=b.title,f=b.theme,y=b.description,N=b.keywords,k=b.date,T=Object(w.a)().interiorTheme,P=Object(i.useStaticQuery)("2456312558").site.pathPrefix,I=P?o.pathname.replace(P,""):o.pathname,S=p?I.split("/").filter(Boolean).slice(-1)[0]||l()(p[0],{lower:!0}):"",H=f||T;return Object(m.b)(s.a,{tabs:p,homepage:!1,theme:H,pageTitle:O,pageDescription:y,pageKeywords:N,titleType:u},Object(m.b)(h,{title:n?Object(m.b)(n,null):O,label:"label",tabs:p,theme:H}),p&&Object(m.b)(v,{title:O,slug:I,tabs:p,currentTab:S}),Object(m.b)(x.a,{padded:!0},a,Object(m.b)(j,{relativePagePath:d}),Object(m.b)(C,{date:k})),Object(m.b)(g.a,{pageContext:t,location:o,slug:I,tabs:p,currentTab:S}),Object(m.b)(c.a,null))}},BAC9:function(e,t,a){e.exports={bxTextTruncateEnd:"EditLink-module--bx--text-truncate--end--2pqje",bxTextTruncateFront:"EditLink-module--bx--text-truncate--front--3_lIE",link:"EditLink-module--link--1qzW3",row:"EditLink-module--row--1B9Gk"}},I8xM:function(e,t,a){e.exports={bxTextTruncateEnd:"PageTabs-module--bx--text-truncate--end--267NA",bxTextTruncateFront:"PageTabs-module--bx--text-truncate--front--3xEQF",tabsContainer:"PageTabs-module--tabs-container--8N4k0",list:"PageTabs-module--list--3eFQc",listItem:"PageTabs-module--list-item--nUmtD",link:"PageTabs-module--link--1mDJ1",selectedItem:"PageTabs-module--selected-item--YPVr3"}},OIbQ:function(e,t,a){e.exports={bxTextTruncateEnd:"last-modified-date-module--bx--text-truncate--end--123zi",bxTextTruncateFront:"last-modified-date-module--bx--text-truncate--front--3xeKz",text:"last-modified-date-module--text--24m-4",row:"last-modified-date-module--row--2BquN"}},QH2O:function(e,t,a){e.exports={bxTextTruncateEnd:"PageHeader-module--bx--text-truncate--end--mZWeX",bxTextTruncateFront:"PageHeader-module--bx--text-truncate--front--3zvrI",pageHeader:"PageHeader-module--page-header--3hIan",darkMode:"PageHeader-module--dark-mode--hBrwL",withTabs:"PageHeader-module--with-tabs--3nKxA",text:"PageHeader-module--text--o9LFq"}},vA8u:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return s})),a.d(t,"default",(function(){return p}));var o,n=a("wx14"),r=a("zLVn"),l=(a("q1tI"),a("7ljp")),i=a("013z"),c=(a("qKvR"),["components"]),s={},b=(o="InlineNotification",function(e){return console.warn("Component "+o+" was not imported, exported, or provided by MDXProvider as global scope"),Object(l.b)("div",e)}),d={_frontmatter:s},u=i.a;function p(e){var t=e.components,a=Object(r.a)(e,c);return Object(l.b)(u,Object(n.a)({},d,a,{components:t,mdxType:"MDXLayout"}),Object(l.b)("h1",null,"Deployer Development Setup"),Object(l.b)("h2",null,"Cloud Pak Deployer command line"),Object(l.b)("p",null,"The Cloud Pak Deployer runs as a container on the server. When you’re in the process of developing new features, having to always rebuild the image is a bit of a pain, hence we’ve introduced a special command line parameter."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"./cp-deploy.sh env apply .... --cpd-develop [--accept-all-liceneses]\n")),Object(l.b)("p",null,"When adding the ",Object(l.b)("inlineCode",{parentName:"p"},"--cpd-develop")," parameter to the command line, the current directory is mapped as a volume to the ",Object(l.b)("inlineCode",{parentName:"p"},"/cloud-pak-deployer")," directory within the container. This means that any latest changes you’ve done to the Ansible playbooks or other commands will take effect immediately."),Object(l.b)(b,{kind:"warning",mdxType:"InlineNotification"},"Even though it is possible to run the deployer multiple times in parallel, for different environments, please be aware that is NOT possible when you use the `--cpd-develop` parameter. If you run two deploy processes with this parameters, you will see errors with permissions."),Object(l.b)("h2",null,"Remote development with Visual Studio Code"),Object(l.b)("p",null,"You can do remote development on a Linux server and run the deployer from there."),Object(l.b)("h3",null,"Prepare the Linux server"),Object(l.b)("p",null,"To allow for remote development, a number of packages need to be installed on the Linux server. Not having these will cause VSCode not to work and the error messages are difficult to debug."),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"git"),Object(l.b)("li",{parentName:"ul"},"podman"),Object(l.b)("li",{parentName:"ul"},"wget"),Object(l.b)("li",{parentName:"ul"},"unzip"),Object(l.b)("li",{parentName:"ul"},"tar")),Object(l.b)("h3",null,"Clone the repository"),Object(l.b)("p",null,"Clone the repository using a ",Object(l.b)("inlineCode",{parentName:"p"},"git")," command. The command below is the clone of the main Cloud Pak Deployer repository. If you have forked the repository to develop features, you will have to use the URL of your own fork."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"git clone https://github.com/IBM/cloud-pak-deployer.git\n")),Object(l.b)("h3",null,"Change Git settings for development"),Object(l.b)("p",null,"To be able to commit changes to your cloned repository, you need to set up an author name and e-mail address. Also, we recommend to set Git’s password cache so that you don’t have to enter the user and token every time you want to fetch the changes or push to the upstream repository. In the below example, the cache is set up to ask for the password only if it has been longer than 1 day since the last sync."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},'git config --global user.name "Your full name"\ngit config --global user.email "your_email_address"\ngit config --global credential.helper "cache --timeout=86400"\n')),Object(l.b)("h3",null,"Set up password-less ssh to the development server"),Object(l.b)("p",null,"If you want to avoid having to logon to the server when you set up remote development with VSCode, you can configure password-less ",Object(l.b)("inlineCode",{parentName:"p"},"ssh")," to the development server."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"ssh-copy-id -i ~/.ssh/id_rsa.pub root@<your_development_server>\n")),Object(l.b)("h3",null,"Connect VSCode to the development server"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"Click on the green icon in the lower left of VSCode"),Object(l.b)("li",{parentName:"ul"},"Open SSH Config file, choose the one in your home directory"),Object(l.b)("li",{parentName:"ul"},"Add the following lines:")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"Host nickname_of_your_server\n   HostName ip_address_of_your_server\n   User root\n")),Object(l.b)("p",null,"Once you have set up this server in the SSH config file, you can connect to it and start remote development. "),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"Open"),Object(l.b)("li",{parentName:"ul"},"Select the ",Object(l.b)("inlineCode",{parentName:"li"},"cloud-pak-deployer")," directory (this is the cloned repository)"),Object(l.b)("li",{parentName:"ul"},"As the directory is a cloned Git repo, VSCode will automatically open the default branch")),Object(l.b)("p",null,"From that point forward you can use VSCode as if you were working on your laptop, make changes and use a separate terminal to test your changes."))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-development-deployer-development-setup-mdx-b90578471621314c800a.js.map